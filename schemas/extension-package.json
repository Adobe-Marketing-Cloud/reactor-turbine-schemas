{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://launch.adobe.com/schemas/extension-package.json",
  "type": "object",
  "definitions": {
    "schema": {
      "type": "object",
      "properties": {
        "name": {
          "$ref": "#/definitions/name"
        },
        "version": {
          "$ref": "#/definitions/semver"
        },
        "displayName": {
          "$ref": "#/definitions/displayName"
        },
        "description": {
          "type": "string",
          "minLength": 1
        },
        "iconPath": {
          "type": "string",
          "minLength": 1,
          "pattern": "^(?!\\/)[\\/a-zA-Z_\\-\\s0-9\\.]+\\.svg$"
        },
        "author": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "minLength": 1
            },
            "url": {
              "$ref": "#/definitions/url"
            },
            "email": {
              "$ref": "#/definitions/email"
            }
          },
          "required": [
            "name"
          ]
        },
        "viewBasePath": {
          "$ref": "#/definitions/basePath"
        },
        "main": {
          "$ref": "#/definitions/libPath"
        },
        "exchangeUrl": {
          "type": "string",
          "minLength": 1,
          "pattern": "^https:\\/\\/(?:(?:experiencecloud|www)\\.)?adobeexchange\\.com"
        },
        "configuration": {
          "$ref": "#/definitions/configuration"
        },
        "events": {},
        "conditions": {},
        "actions": {},
        "dataElements": {}
      },
      "required": [
        "name",
        "version",
        "displayName",
        "description",
        "author",
        "viewBasePath"
      ]
    },
    "name": {
      "type": "string",
      "minLength": 1,
      "pattern": "^(?![_\\.])[a-z0-9~_\\-\\.]{1,214}$"
    },
    "displayName": {
      "type": "string",
      "minLength": 1
    },
    "basePath": {
      "type": "string",
      "minLength": 1,
      "pattern": "^(?!\\/)[\\/a-zA-Z_\\-\\s0-9\\.]+$"
    },
    "libPath": {
      "type": "string",
      "minLength": 1,
      "pattern": "^(?!\\/)[\\/a-zA-Z_\\-\\s0-9\\.]+\\.js$"
    },
    "viewPath": {
      "type": "string",
      "minLength": 1,
      "pattern": "^(?!\\/)[\\/a-zA-Z_\\-\\s0-9\\.]+\\.html([?#].*)?$"
    },
    "url": {
      "type": "string",
      "minLength": 1,
      "format": "uri"
    },
    "email": {
      "type": "string",
      "minLength": 1,
      "format": "email"
    },
    "semver": {
      "type": "string",
      "minLength": 1,
      "pattern": "^\\bv?(?:0|[1-9][0-9]*)(?:\\.(?:0|[1-9][0-9]*)){2}(?:-[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?(?:\\+[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?\\b$"
    },
    "configuration": {
      "type": "object",
      "properties": {
        "viewPath": {
          "$ref": "#/definitions/viewPath"
        },
        "schema": {
          "type": "object"
        }
      },
      "required": [
        "viewPath",
        "schema"
      ]
    },
    "feature": {
      "type": "object",
      "properties": {
        "name": {
          "$ref": "#/definitions/name"
        },
        "displayName": {
          "$ref": "#/definitions/displayName"
        },
        "categoryName": {
          "$ref": "#/definitions/displayName"
        },
        "viewPath": {
          "$ref": "#/definitions/viewPath"
        }
      },
      "required": [
        "name",
        "displayName"
      ]
    }
  }
}